<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	<style type="text/css">
		.modal-content {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			max-height: calc(100vh - 110px);
			max-width: calc(150vh - 70px);
			overflow-y: auto;

		}
	</style>
	<script>
		function display(data){

			var arr = new Array();	
			arr = data;
			$('#modal_id').text("주문 번호 : "+arr[0].id);

		}
		function bill( id ){
			$.ajax({
				url: '/host/shop/bill',
				type: "POST",
				data: { "id": id },
				success: function (data) {

					display(data);

					$('#open_modal_btn').click();
				}
			});	
		}
		$(document).ready(function(){


		});
		
	</script>
</head>
<div class="container mt-3">
	<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal" id="open_modal_btn" hidden>
		Open modal
	</button>
</div>
<div class="modal" id="myModal">
	<div class="modal-dialog">
		<div class="modal-content">

			<!-- Modal Header -->
			<div class="modal-header">
				<h4 class="modal-title" id="modal_id">Modal Heading</h4>
				<button type="button" class="btn-close" data-bs-dismiss="modal">x</button>
			</div>
			<!-- Modal body -->
			<div class="modal-body">
				<div class="col-lg-12 grid-margin stretch-card">
					<div class="card">
						<div class="card-body">
							<h4 class="card-title">구매자 정보</h4>
                  <p class="card-description">
                    Add class <code>.table</code>
                  </p>
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>Profile</th>
                          <th>VatNo.</th>
                          <th>수량</th>
                          <th>가격</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>Jacob</td>
                          <td>53275531</td>
                          <td>12 May 2017</td>
                          <td><label class="badge badge-danger">Pending</label></td>
                        </tr>
                        <tr>
                          <td>Messsy</td>
                          <td>53275532</td>
                          <td>15 May 2017</td>
                          <td><label class="badge badge-warning">In progress</label></td>
                        </tr>
                        <tr>
                          <td>John</td>
                          <td>53275533</td>
                          <td>14 May 2017</td>
                          <td><label class="badge badge-info">Fixed</label></td>
                        </tr>
                        <tr>
                          <td>Peter</td>
                          <td>53275534</td>
                          <td>16 May 2017</td>
                          <td><label class="badge badge-success">Completed</label></td>
                        </tr>
                        <tr>
                          <td>Dave</td>
                          <td>53275535</td>
                          <td>20 May 2017</td>
                          <td><label class="badge badge-warning">In progress</label></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
						</div>
					</div>
				</div>
			</div>

			<!-- Modal footer -->
			<div class="modal-footer">
				<!-- <button type="button" class="btn btn-info btn-rounded btn-fw" id="modifybtn">수정</button> -->
				<button type="button" class="btn btn-success" id="confirmbtn">확인</button>
				<button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="closebtn">닫기</button>
				<!-- <button type="button" class="btn btn-warning btn-rounded btn-fw" id="concelbtn">취소</button> -->
			</div>
		</div>
	</div>
</div>
<div class="col-lg-12 grid-margin stretch-card">
	<div class="card">
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-striped">
					<thead>
						<tr>
							<th style="width: 2px;"></th>
							<th style="width: 2px;">주문 번호</th>
							<th style="width: 2px;">주문 고객</th>

							<th id="sss">주소</th>
							<th>주문 날짜</th>
							<th>총 매출</th>
							<th>주문 상태</th>
						</tr>
					</thead>
					<tbody th:if="${olist != null}" th:each="o:${olist}">
						<tr>
							<td class="py-1" rowspan="2"> 
								<input type="checkbox" th:value="${o.id}" name="selected">
							</td>
						</tr>
						<tr  th:onclick="bill([[${o.id}]])">		
							<td class="py-1" th:text="${o.id}">id</td>
							<td class="py-1" th:text="${o.uid}">uid</td>
							<td class="py-1" th:text="${o.addr +' '+ o.addrd}">addr</td>
							<td th:text="${#dates.format(o.date, 'yyyy년 MM월 dd일 HH시mm분')}"></td>
							<td class="py-1" th:text="${o.allprice}">allprice</td>
							<td class="py-1" th:text="${o.status}">status</td>					
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>